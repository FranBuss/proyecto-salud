<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
	<link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="/static/css/style.css">
	<link rel="stylesheet" href="/static/css/navbar.css">
	<link rel="stylesheet" href="/static/css/footer.css">
	<link rel="stylesheet" href="/static/css/users.css">
	<title>Administración de usuarios</title>
	<script src="https://kit.fontawesome.com/5f27d919b8.js" crossorigin="anonymous"></script>
</head>

<body>
	<div class="main_conteiner">
		<th:block th:replace="/fragments/navbar :: navbar"></th:block>
		<div class="appointment-view">
			<table class="table-users-view">
				<thead>
					<tr>
						<th>Nombre</th>
						<th>Apellido</th>
						<th>Correo electrónico</th>
						<th>Rol</th>
						<th>Convertir</th>
						<th>Eliminar</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="user : ${users}">
						<td th:text="${user.name}"></td>
						<td th:text="${user.surname}"></td>
						<td th:text="${user.email}"></td>
						<td th:text="${user.rol}"></td>
						<td>
							<a th:href="@{/professional/changeRolToProfessional/__${user.id}__}" 
							th:if="${user.rol != T(com.equipoUno.proyectoSalud.enumerations.Rol).PROFESSIONAL}">
								Registrar como profesional
							</a>
							<a th:if="${user.rol == T(com.equipoUno.proyectoSalud.enumerations.Rol).PROFESSIONAL}">
								Registrado
							</a>
						</td>
						<td th:if="${user.rol != T(com.equipoUno.proyectoSalud.enumerations.Rol).PROFESSIONAL}">
							<a th:href="@{/user/delete(id=${user.id})}">Eliminar</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<th:block th:replace="/fragments/footer :: footer"></th:block>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
		crossorigin="anonymous"></script>
</body>

</html>